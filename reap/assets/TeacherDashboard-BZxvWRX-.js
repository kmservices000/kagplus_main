import{a as h,j as e,m as r}from"./index-DA-6kFRq.js";import{T as m}from"./TopNav-BvIDk30_.js";import"./react-CmrxKclW.js";const p=[{id:"kayla",name:"Kayla Santos"},{id:"miguel",name:"Miguel Cruz"},{id:"hana",name:"Hana Reyes"},{id:"liam",name:"Liam Flores"}],N=()=>{const{moduleProgress:n,mistakes:c,setModuleDeadline:d}=h(),t=n.reduce((s,a)=>(s[a.id]=a,s),{}),o=c.reduce((s,a)=>{const i=a.topicCode;return s[i]||(s[i]={topicCode:a.topicCode,topicTitle:a.topicTitle,count:0,lastQuestion:"",lastTimestamp:""}),s[i].count+=1,(!s[i].lastTimestamp||s[i].lastTimestamp<a.timestamp)&&(s[i].lastTimestamp=a.timestamp,s[i].lastQuestion=a.questionText),s},{}),l=Object.values(o).sort((s,a)=>a.count-s.count);return e.jsxs("div",{className:"page teacher-page",children:[e.jsx(m,{}),e.jsx("section",{className:"teacher-hero",children:e.jsxs("div",{children:[e.jsx("p",{className:"lesson-breadcrumb",children:"Teacher dashboard"}),e.jsx("h2",{children:"Class Progress Monitor"}),e.jsx("p",{children:"Track every learner’s mastery, module completion, and tricky questions at a glance."})]})}),e.jsxs("section",{className:"teacher-section",children:[e.jsx("h3",{children:"Students"}),e.jsx("div",{className:"student-list",children:p.map(s=>e.jsxs("div",{className:"student-card",children:[e.jsxs("div",{children:[e.jsx("p",{className:"student-name",children:s.name}),e.jsx("p",{className:"student-detail",children:"Grade 7 • REAP Alpha Batch"})]}),e.jsx("div",{className:"student-progress",children:r.map(a=>{const i=t[a.id]||{percent:0};return e.jsxs("div",{className:"student-progress-row",children:[e.jsx("span",{children:a.label}),e.jsx("div",{className:"tracker-bar",children:e.jsx("div",{className:"tracker-fill",style:{width:`${i.percent}%`,backgroundColor:a.color}})}),e.jsxs("span",{children:[i.percent,"%"]})]},`${s.id}-${a.id}`)})})]},s.id))})]}),e.jsxs("section",{className:"teacher-section",children:[e.jsx("h3",{children:"Module Progress Overview"}),e.jsx("div",{className:"modules-grid",children:r.map(s=>{const a=t[s.id]||{percent:0,completed:0,total:s.lessons.length};return e.jsxs("div",{className:"teacher-module-card",children:[e.jsx("p",{className:"module-label",children:s.label}),e.jsx("p",{className:"module-title",children:s.title}),e.jsx("p",{className:"module-description",children:s.description}),e.jsxs("label",{className:"deadline-label",children:["Deadline",e.jsx("input",{type:"date",value:a.deadline||"",onChange:i=>d(s.id,i.target.value)})]}),e.jsxs("div",{className:"teacher-progress-row",children:[e.jsx("div",{className:"tracker-bar",children:e.jsx("div",{className:"tracker-fill",style:{width:`${a.percent}%`,backgroundColor:s.color}})}),e.jsxs("span",{children:[a.completed,"/",a.total]})]})]},s.id)})})]}),e.jsxs("section",{className:"teacher-section",children:[e.jsx("h3",{children:"Struggle Spots"}),l.length===0?e.jsx("p",{className:"completion-hint",children:"Great job! No mistakes have been logged yet."}):e.jsxs("div",{className:"mistake-table",children:[e.jsxs("div",{className:"mistake-row header",children:[e.jsx("span",{children:"Topic"}),e.jsx("span",{children:"Mistakes logged"}),e.jsx("span",{children:"Most recent question"}),e.jsx("span",{children:"Last seen"})]}),l.slice(0,8).map(s=>e.jsxs("div",{className:"mistake-row",children:[e.jsxs("span",{children:[s.topicCode," — ",s.topicTitle]}),e.jsxs("span",{className:"wrong",children:[s.count,"×"]}),e.jsx("span",{children:s.lastQuestion}),e.jsx("span",{children:new Date(s.lastTimestamp).toLocaleString()})]},s.topicCode))]})]})]})};export{N as default};
